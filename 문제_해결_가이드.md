# 🚨 ngrok 및 서버 문제 해결 가이드

## 🔍 문제 상황
- 인증 토큰 입력 후 스크립트가 바로 종료됨
- 기존 서버 접속이 안됨

## 🛠️ 해결 방법

### 1단계: 서버 수동 시작

#### 방법 1: CMD 창에서 직접 실행
```cmd
# 프로젝트 폴더에서
npm start
```

#### 방법 2: 새 CMD 창에서 실행
1. 새 CMD 창 열기
2. 프로젝트 폴더로 이동: `cd "C:\Users\com\Desktop\SHE 디지털트윈"`
3. 서버 시작: `npm start`

### 2단계: 서버 상태 확인
```cmd
netstat -an | findstr ":3001"
```
- 결과가 나오면 서버가 실행 중
- 결과가 없으면 서버가 실행되지 않음

### 3단계: 로컬 접속 테스트
브라우저에서 `http://localhost:3001` 접속 테스트
- 접속되면 서버 정상
- 접속 안되면 서버 문제

### 4단계: ngrok 설정 (수정된 방법)

#### 방법 1: 수정된 스크립트 사용
```cmd
ngrok_수정된_설정.bat
```

#### 방법 2: 직접 명령어로 설정
```cmd
# 1. ngrok 설정 초기화
ngrok config reset

# 2. 인증 토큰 설정
ngrok config add-authtoken YOUR_AUTH_TOKEN

# 3. 설정 확인
ngrok config check

# 4. 터널 시작
ngrok http 3001
```

## 🔧 문제별 해결책

### 서버가 시작되지 않는 경우
1. **포트 충돌 확인**:
   ```cmd
   netstat -an | findstr ":3001"
   ```

2. **프로세스 종료**:
   ```cmd
   taskkill /f /im node.exe
   ```

3. **서버 재시작**:
   ```cmd
   npm start
   ```

### ngrok 인증 오류
1. **설정 초기화**:
   ```cmd
   ngrok config reset
   ```

2. **토큰 재설정**:
   ```cmd
   ngrok config add-authtoken YOUR_AUTH_TOKEN
   ```

3. **설정 확인**:
   ```cmd
   ngrok config check
   ```

### 스크립트가 바로 종료되는 경우
1. **관리자 권한으로 실행**
2. **바이러스 백신 확인** (차단 여부)
3. **Windows 방화벽 확인**

## 🎯 추천 해결 순서

### 즉시 해결 방법
1. **새 CMD 창 열기**
2. **서버 시작**: `npm start`
3. **서버 확인**: `http://localhost:3001` 접속 테스트
4. **ngrok 설정**: `ngrok_수정된_설정.bat` 실행

### 단계별 확인
1. ✅ 서버가 실행 중인가?
2. ✅ 로컬에서 접속되는가?
3. ✅ ngrok 인증이 완료되었는가?
4. ✅ 터널이 생성되었는가?

## 📞 추가 도움

문제가 계속되면:
1. **에러 메시지 스크린샷** 찍기
2. **CMD 창 내용** 복사
3. **서버 로그** 확인

---

**💡 팁**: 가장 확실한 방법은 CMD 창에서 직접 명령어를 하나씩 실행하는 것입니다.
