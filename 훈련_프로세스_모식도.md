# 플랫폼 훈련 프로세스 모식도

## 📊 전체 훈련 프로세스 플로우차트

```mermaid
flowchart TD
    Start([👤 사용자 접속]) --> Login[🔐 로그인<br/>회사/부서/직원 선택]
    Login --> Dashboard[📊 대시보드<br/>훈련 현황 확인]
    Dashboard --> RoleAssign[👥 역할 관리<br/>11개 전문반 배정]
    RoleAssign --> ScenarioSelect[📋 시나리오 선택<br/>3가지 훈련 시나리오]
    
    ScenarioSelect --> Briefing[📖 브리핑 단계<br/>상황 설명 및 역할 안내]
    Briefing --> TrainingStart[🚀 훈련 시작<br/>타이머 활성화]
    
    TrainingStart --> StepLoop{📝 단계별 진행<br/>최대 32단계}
    
    StepLoop --> Situation[⚠️ 상황 제시<br/>실시간 상황 정보]
    Situation --> TeamDiscussion{👥 팀 토의<br/>선택지 논의}
    
    TeamDiscussion --> ActionChoice[⚡ 행동 선택<br/>객관식/서술형]
    ActionChoice --> ImmediateEval[📊 즉시 평가<br/>점수 계산 및 피드백]
    
    ImmediateEval --> CheckStep{단계 완료?}
    CheckCheckTime{시간<br/>체크}
    
    CheckStep -->|진행 중| StepLoop
    CheckStep -->|완료| TimeCheck[⏰ 시간 확인<br/>제한 시간 내 완료 여부]
    
    TimeCheck --> FinalEval[🏆 최종 평가<br/>종합 점수 산출]
    FinalEval --> Report[📄 리포트 생성<br/>상세 평가서]
    Report --> End([✅ 훈련 완료<br/>데이터 초기화])
    
    CheckTime -->|시간 초과| FinalEval
    CheckTime -->|시간 내| ImmediateEval
    
    style Start fill:#e3f2fd,color:#000
    style Login fill:#bbdefb,color:#000
    style Dashboard fill:#90caf9,color:#000
    style RoleAssign fill:#64b5f6,color:#fff
    style ScenarioSelect fill:#42a5f5,color:#fff
    style Briefing fill:#2196f3,color:#fff
    style TrainingStart fill:#1976d2,color:#fff
    style Situation fill:#ff9800,color:#fff
    style ActionChoice fill:#f44336,color:#fff
    style ImmediateEval fill:#4caf50,color:#fff
    style FinalEval fill:#9c27b0,color:#fff
    style Report fill:#e91e63,color:#fff
    style End fill:#00bcd4,color:#fff
```

## 🎯 상세 훈련 실행 프로세스

```mermaid
sequenceDiagram
    participant U as 사용자
    participant P as 플랫폼
    participant S as 시나리오 엔진
    participant E as 평가 시스템
    
    U->>P: 로그인 및 역할 선택
    P->>P: 역할별 권한 확인
    P->>U: 대시보드 화면
    U->>P: 시나리오 선택
    P->>S: 시나리오 데이터 로드
    S->>P: 시나리오 정보 전달
    P->>U: 브리핑 화면 표시
    
    U->>P: 훈련 시작 버튼 클릭
    P->>P: 타이머 시작 (20-30분)
    P->>S: 첫 번째 단계 로드
    
    loop 32단계 반복
        S->>P: 현재 단계 상황 정보
        P->>U: 상황 화면 표시
        P->>U: 선택지 제시 (객관식/서술형)
        U->>P: 행동 선택 제출
        P->>E: 선택 평가 요청
        E->>E: 점수 계산 (정확도/속도)
        E->>P: 평가 결과 반환
        P->>U: 즉시 피드백 표시
        
        alt 단계 완료
            P->>P: 다음 단계로 이동
        else 모든 단계 완료
            P->>E: 최종 평가 요청
        end
    end
    
    E->>P: 종합 점수 및 리포트
    P->>U: 최종 결과 화면
    U->>P: 리포트 다운로드
    P->>P: 훈련 데이터 초기화
```

## 🔄 훈련 단계별 상세 프로세스

```mermaid
graph LR
    subgraph Phase1[📖 브리핑 단계]
        B1[시나리오 개요]
        B2[역할별 R&R 안내]
        B3[훈련 목표 확인]
    end
    
    subgraph Phase2[🎯 훈련 실행 단계]
        T1[단계 1: 상황 파악]
        T2[단계 2-N: 대응 조치]
        T3[팀 토의 및 의사결정]
        T4[행동 선택]
        T5[즉시 평가]
    end
    
    subgraph Phase3[📊 평가 단계]
        E1[단계별 점수 집계]
        E2[시간 효율성 평가]
        E3[의사결정 적절성 평가]
        E4[팀 협업 평가]
    end
    
    subgraph Phase4[📄 리포트 단계]
        R1[종합 점수 산출]
        R2[강점/약점 분석]
        R3[개선 권장사항]
        R4[상세 리포트 생성]
    end
    
    Phase1 --> Phase2
    Phase2 --> Phase3
    Phase3 --> Phase4
    
    T1 --> T2
    T2 --> T3
    T3 --> T4
    T4 --> T5
    T5 --> T2
    
    style Phase1 fill:#e3f2fd
    style Phase2 fill:#fff3e0
    style Phase3 fill:#f3e5f5
    style Phase4 fill:#e8f5e8
```

## ⏱️ 시간 제한 관리 프로세스

```mermaid
stateDiagram-v2
    [*] --> 브리핑: 훈련 시작
    브리핑 --> 훈련중: 훈련 시작 버튼
    훈련중 --> 단계진행: 타이머 시작
    
    state 훈련중 {
        [*] --> 시간체크
        시간체크 --> 진행중: 시간 남음
        시간체크 --> 시간부족: 시간 부족
        진행중 --> 단계완료: 행동 선택 완료
        단계완료 --> 시간체크: 다음 단계
        시간부족 --> 경고: 경고 메시지
        경고 --> 강제완료: 시간 초과
    }
    
    단계진행 --> 평가단계: 모든 단계 완료
    강제완료 --> 평가단계: 시간 초과 시
    평가단계 --> 리포트생성: 평가 완료
    리포트생성 --> [*]: 훈련 종료
```

## 👥 팀 토의 및 의사결정 프로세스

```mermaid
graph TD
    Start[상황 제시] --> Q[팀 토의 질문]
    Q --> Discussion{팀 토의}
    
    Discussion --> Option1[선택지 1]
    Discussion --> Option2[선택지 2]
    Discussion --> Option3[선택지 3]
    Discussion --> Option4[선택지 4]
    Discussion --> Descriptive[서술형 답변]
    
    Option1 --> Decision[팀 의사결정]
    Option2 --> Decision
    Option3 --> Decision
    Option4 --> Decision
    Descriptive --> Decision
    
    Decision --> Submit[선택 제출]
    Submit --> Eval[즉시 평가]
    Eval --> Feedback[피드백 표시]
    Feedback --> Next[다음 단계]
    
    style Start fill:#e3f2fd
    style Q fill:#fff3e0
    style Discussion fill:#f3e5f5
    style Decision fill:#e8f5e8
    style Eval fill:#ffebee
    style Feedback fill:#f1f8e9
```

## 📈 평가 체계 프로세스

```mermaid
graph TB
    subgraph Input[평가 입력]
        I1[행동 선택 정확도]
        I2[소요 시간]
        I3[절차 순서 준수]
        I4[팀 협업 정도]
    end
    
    subgraph Process[평가 처리]
        P1[정확도 점수<br/>0-100점]
        P2[시간 효율 점수<br/>0-100점]
        P3[절차 준수 점수<br/>0-100점]
        P4[협업 점수<br/>0-100점]
    end
    
    subgraph Output[평가 결과]
        O1[단계별 점수]
        O2[종합 점수]
        O3[등급 산출]
        O4[피드백 메시지]
    end
    
    I1 --> P1
    I2 --> P2
    I3 --> P3
    I4 --> P4
    
    P1 --> O1
    P2 --> O1
    P3 --> O1
    P4 --> O1
    
    O1 --> O2
    O2 --> O3
    O2 --> O4
    
    style Input fill:#e3f2fd
    style Process fill:#fff3e0
    style Output fill:#e8f5e8
```

## 🎯 역할별 R&R 기반 훈련 프로세스

```mermaid
graph LR
    subgraph Roles[역할 배정]
        R1[관제운영반]
        R2[현장출동반]
        R3[안전관리반]
    end
    
    subgraph Actions[역할별 행동]
        A1[관제센터 통보]
        A2[현장 출동]
        A3[안전 확보]
    end
    
    subgraph Evaluation[역할별 평가]
        E1[관제 정확성]
        E2[출동 신속성]
        E3[안전 조치 적절성]
    end
    
    R1 --> A1
    R2 --> A2
    R3 --> A3
    
    A1 --> E1
    A2 --> E2
    A3 --> E3
    
    E1 --> Total[종합 평가]
    E2 --> Total
    E3 --> Total
    
    style Roles fill:#e3f2fd
    style Actions fill:#fff3e0
    style Evaluation fill:#f3e5f5
    style Total fill:#e8f5e8
```

## 🔄 데이터 흐름도

```mermaid
graph TB
    User[👤 사용자] --> Frontend[🖥️ 프론트엔드<br/>React UI]
    
    Frontend --> LocalStorage[(💾 로컬 스토리지<br/>훈련 진행 데이터)]
    Frontend --> Backend{🔌 백엔드<br/>연결 여부}
    
    Backend -->|연결됨| Database[(🗄️ 데이터베이스<br/>영구 저장)]
    Backend -->|연결 안 됨| LocalStorage
    
    Frontend --> Scenario[📋 시나리오 데이터<br/>trainingScenarios.js]
    Frontend --> Evaluation[📊 평가 시스템<br/>실시간 점수 계산]
    
    Evaluation --> Report[📄 리포트 생성<br/>HTML 리포트]
    Report --> User
    
    LocalStorage -->|훈련 완료| Clear[🗑️ 데이터 초기화]
    Database -->|훈련 완료| Save[💾 영구 저장]
    
    style User fill:#e3f2fd
    style Frontend fill:#fff3e0
    style LocalStorage fill:#f3e5f5
    style Database fill:#e8f5e8
    style Evaluation fill:#ffebee
```

---

## 📋 프로세스 요약

### **1단계: 준비 단계**
- 로그인 및 회사/부서 선택
- 역할 배정 (11개 전문반)
- 시나리오 선택 (3가지 중 선택)

### **2단계: 브리핑 단계**
- 시나리오 상황 설명
- 역할별 R&R 안내
- 훈련 목표 확인

### **3단계: 훈련 실행 단계** (핵심)
- 타이머 시작 (20-30분)
- 단계별 상황 제시 (최대 32단계)
- 팀 토의 및 선택지 논의
- 행동 선택 (객관식/서술형)
- 즉시 평가 및 피드백

### **4단계: 평가 단계**
- 단계별 점수 집계
- 시간 효율성 평가
- 의사결정 적절성 평가
- 종합 점수 산출

### **5단계: 리포트 단계**
- 강점/약점 분석
- 개선 권장사항
- 상세 리포트 생성 및 다운로드
- 훈련 데이터 초기화

---

## 🎯 주요 특징

1. **실시간 피드백**: 각 단계마다 즉시 평가 및 피드백 제공
2. **시간 제한 관리**: 제한 시간 내 완료 여부 모니터링
3. **팀 토의 기반**: 팀 단위로 의사결정 및 논의 가능
4. **역할별 맞춤**: 11개 전문반별 맞춤형 행동 가이드
5. **정량적 평가**: 객관적 점수 산출 및 등급 부여
6. **데이터 추적**: 모든 훈련 과정 데이터 수집 및 분석

